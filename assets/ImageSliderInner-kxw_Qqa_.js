import{x as oe,y as Re,r as c,d as l,o as ae,c as Pe,w as D,k as w,u as s,f as y,z as i,m as d,A as ne,t as le,B as Be,i as k,g as W,j as V}from"./index--OSTFOOJ.js";const He=["innerHTML"],Ae=["id"],De=["alt","src"],We=["alt","src"],Me=["innerHTML"],Oe=oe({__name:"VueCompareImage",props:{aspectRatio:{default:"wider"},handle:{type:[String,Number,Boolean]},handleSize:{default:40},hover:{type:Boolean,default:!1},slideOnClick:{type:Boolean,default:!0},keyboard:{type:Boolean,default:!1},keyboardStep:{default:.01},leftImage:{},leftImageAlt:{},leftImageCss:{},leftImageLabel:{},onSliderPositionChange:{type:Function,default:()=>{}},rightImage:{},rightImageAlt:{},rightImageCss:{},rightImageLabel:{},skeleton:{type:[String,Number,Boolean]},sliderLineColor:{default:"#ffffff"},sliderLineWidth:{default:2},sliderPositionPercentage:{default:.5},vertical:{type:Boolean,default:!1}},emits:["slideStart","slideEnd","isSliding"],setup(j,{emit:E}){const B=j,{aspectRatio:M,leftImage:b,leftImageAlt:O,leftImageLabel:F,leftImageCss:ie,rightImage:se,rightImageAlt:re,rightImageLabel:N,rightImageCss:ue,hover:z,handle:X,handleSize:r,sliderLineWidth:x,sliderPositionPercentage:ve,skeleton:Y,sliderLineColor:H,vertical:de,onSliderPositionChange:U,slideOnClick:ce,keyboard:T,keyboardStep:f}=Re(B),fe=Math.random().toString(36).substr(2,9),e=!de.value,m=c(),L=c(null),S=c(null),n=c(ve.value),u=c(0),v=c(0),$=c(!1),C=c(!1),_=c(!1),K=l(()=>$.value&&C.value),A=l(()=>n.value),q=l(()=>1-n.value),G=l(()=>({display:K.value?"flex":"none",height:`${v.value}px`})),me=l(()=>({clipPath:e?`inset(0px 0px 0px ${u.value*A.value}px)`:`inset(${v.value*A.value}px 0px 0px 0px)`,...ue})),ge=l(()=>({clipPath:e?`inset(0px ${u.value*q.value}px 0px 0px)`:`inset(0px 0px ${v.value*q.value}px 0px)`,...ie})),pe=l(()=>({cursor:!z.value&&e?"ew-resize !important":!z.value&&!e?"ns-resize !important":void 0,flexDirection:e?"column":"row",height:e?"100%":`${r.value}px`,left:e?`${u.value*n.value-r.value/2}px`:"0",top:e?"0":`${v.value*n.value-r.value/2}px`,width:e?`${r.value}px`:"100%"})),J=l(()=>({background:H.value,height:e?"100%":`${x.value}px`,width:e?`${x.value}px`:"100%"})),he=l(()=>({border:`${x.value}px solid ${H.value}`,height:`${r.value}px`,width:`${r.value}px`,transform:e?"none":"rotate(90deg)"})),we=l(()=>({border:`inset ${r.value*.15}px rgba(0,0,0,0)`,borderRight:`${r.value*.15}px solid ${H.value}`,marginLeft:`-${r.value*.25}px`,marginRight:`${r.value*.25}px`})),ye=l(()=>({border:`inset ${r.value*.15}px rgba(0,0,0,0)`,borderLeft:`${r.value*.15}px solid ${H.value}`,marginRight:`-${r.value*.25}px`})),xe=l(()=>({left:e?"5%":"50%",opacity:_.value?0:1,top:e?"50%":"3%",transform:e?"translate(0,-50%)":"translate(-50%, 0)"})),Le=l(()=>({opacity:_.value?0:1,left:e?"unset":"50%",right:e?"5%":"unset",top:e?"50%":"unset",bottom:e?"unset":"3%",transform:e?"translate(0,-50%)":"translate(-50%, 0)"})),_e=l(()=>({clip:e?`rect(auto, ${u.value*n.value}px, auto, auto)`:`rect(auto, auto, ${v.value*n.value}px, auto)`})),Ie=l(()=>({clipPath:e?`inset(0px 0px 0px ${u.value*A.value}px)`:`inset(${v.value*A.value}px 0px 0px 0px)`}));function p(t){const a=t,h=a.touches?a.touches[0].pageX:a.pageX,P=a.touches?a.touches[0].pageY:a.pageY,$e=h-window.pageXOffset,Ce=P-window.pageYOffset,Z=L.value.getBoundingClientRect();let g=e?$e-Z.left:Ce-Z.top;const ee=0+x.value/2,te=e?u.value-x.value/2:v.value-x.value/2;g<ee&&(g=ee),g>te&&(g=te),n.value=e?g/u.value:g/v.value,U.value&&U.value(e?g/u.value:g/v.value)}function I(t){_.value=!0,E("slideStart",n.value),E("isSliding",_.value),e&&"touches"in t||t.preventDefault(),ce.value&&p(t),window.addEventListener("mousemove",p),window.addEventListener("touchmove",p),window.addEventListener("mouseup",o),window.addEventListener("touchend",o)}function o(){_.value=!1,E("slideEnd",n.value),E("isSliding",_.value),window.removeEventListener("mousemove",p),window.removeEventListener("touchmove",p),window.removeEventListener("mouseup",o),window.removeEventListener("touchend",o)}function ke(){T.value&&window.addEventListener("keydown",R)}function Ee(){T.value&&window.removeEventListener("keydown",R)}function be(){T.value&&window.addEventListener("keydown",R)}function Q(t){m.value&&!m.value.contains(t.target)&&(m.value.blur(),window.removeEventListener("keydown",R))}function R(t){t.key==="ArrowDown"&&!e?(t.preventDefault(),n.value+f.value>1?n.value=1:n.value+=f.value):t.key==="ArrowUp"&&!e||t.key==="ArrowLeft"&&e?(t.preventDefault(),n.value-f.value<0?n.value=0:n.value-=f.value):t.key==="ArrowRight"&&e&&(t.preventDefault(),n.value+f.value>1?n.value=1:n.value+=f.value)}function Se(){Be()?.proxy?.$forceUpdate();const a=m.value;B.hover?(a?.addEventListener("mousemove",I),a?.addEventListener("mouseleave",o)):(a?.removeEventListener("mousemove",I),a?.removeEventListener("mouseleave",o),a?.addEventListener("mouseup",o),a?.addEventListener("touchend",o))}return ae(()=>{const t=m.value,a=new ResizeObserver(([h])=>{const P=h.target.getBoundingClientRect().width;u.value=P});return a.observe(t),()=>a.disconnect()}),ae(()=>{const t=m.value;B.hover&&(t?.addEventListener("mousemove",I),t?.addEventListener("mouseleave",o)),window.addEventListener("click",Q)}),Pe(()=>{const t=m.value;t?.removeEventListener("mousemove",I),t?.removeEventListener("mouseleave",o),window.removeEventListener("keydown",R),window.removeEventListener("click",Q),window.removeEventListener("mousemove",p),window.removeEventListener("touchmove",p),window.removeEventListener("mouseup",o),window.removeEventListener("touchend",o)}),D(S,()=>{$.value=!1,S.value?.complete&&($.value=!0)}),D(L,()=>{C.value=!1,L.value?.complete&&(C.value=!0)}),D(z,()=>{Se()}),D([()=>u.value,()=>$.value,()=>C.value],()=>{const t=S.value.naturalHeight/S.value.naturalWidth,a=L.value.naturalHeight/L.value.naturalWidth,h=M.value==="taller"?Math.max(t,a):Math.min(t,a),P=u.value*h;v.value=P}),(t,a)=>s(Y)&&!K.value?(y(),w("div",{key:0,"data-testid":"skeleton",style:i(G.value),innerHTML:s(Y)},null,12,He)):(y(),w("div",{key:1,id:s(fe),ref_key:"containerRef",ref:m,class:"vci--container",tabindex:"0","data-testid":"vci-container",style:i(G.value),onClick:be,onTouchstart:I,onTouchend:o,onFocusin:ke,onFocusout:Ee,onMousedown:I,onMouseup:o},[d("img",{ref_key:"rightImageRef",ref:L,class:"vci--right-image",alt:s(re),"data-testid":"right-image",src:s(se),style:i(me.value),onLoad:a[0]||(a[0]=h=>C.value=!0)},null,44,De),d("img",{ref_key:"leftImageRef",ref:S,class:"vci--left-image",alt:s(O),"data-testid":"left-image",src:s(b),style:i(ge.value),onLoad:a[1]||(a[1]=h=>$.value=!0)},null,44,We),d("div",{class:"vci--slider",style:i(pe.value)},[d("div",{class:"vci--slider-line",style:i(J.value)},null,4),s(X)?(y(),w("div",{key:0,class:"vci--custom-handle",innerHTML:s(X)},null,8,Me)):(y(),w("div",{key:1,class:"vci--default-handle",style:i(he.value)},[d("div",{class:"vci--left-arrow",style:i(we.value)},null,4),d("div",{class:"vci--right-arrow",style:i(ye.value)},null,4)],4)),d("div",{class:"vci--slider-line",style:i(J.value)},null,4)],4),s(F)?(y(),w("div",{key:0,class:"vci--left-label-container",style:i(_e.value)},[d("div",{class:"vci--left-label","data-testid":"left-image-label",style:i(xe.value)},le(s(F)),5)],4)):ne("",!0),s(N)?(y(),w("div",{key:1,class:"vci--right-label-container",style:i(Ie.value)},[d("div",{class:"vci--right-label","data-testid":"right-image-label",style:i(Le.value)},le(s(N)),5)],4)):ne("",!0)],44,Ae))}}),ze=d("h1",{class:"section-title"},"Image Inner Comparison",-1),Te="./image_inner/line.jpg",Ve="./image_inner/real.jpg",Fe=oe({__name:"ImageSliderInner",setup(j){return(E,B)=>{const M=V("el-divider"),b=V("el-row"),O=V("el-col");return y(),w("div",null,[k(M),k(b,{justify:"center"},{default:W(()=>[ze]),_:1}),k(b,{justify:"center"},{default:W(()=>[k(O,{xs:24,sm:20,md:16,lg:12,xl:12},{default:W(()=>[k(b,{style:{"margin-top":"20px"}},{default:W(()=>[k(s(Oe),{"left-image":Te,"right-image":Ve,hover:!0})]),_:1})]),_:1})]),_:1})])}}});export{Fe as default};
